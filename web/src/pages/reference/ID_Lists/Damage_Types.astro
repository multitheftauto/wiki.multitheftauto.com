---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';

import { getSeeAlsoLinksFromList } from '@src/utils/general';
import SeeAlsoSection from '@src/components/SeeAlsoSection.astro';

import { Code } from '@astrojs/starlight/components';

const damageTypesById: Record<number, { type: string; info?: string }> = {
  19: { type: "Rocket", info: "Actual damage type when damaged from a rocket launcher" },
  37: { type: "Burnt", info: "This is used by a damage by fire, even when the fire is created by a rocket explosion or a molotov" },
  49: { type: "Rammed" },
  50: { type: "Ranover", info: "This is also called when damaged because of helicopter blades" },
  51: { type: "Explosion", info: "This may sometimes also be used at an indirect damage through an exploding rocket" },
  52: { type: "Driveby", info: "This is NOT used for a driveby kill with e.g. the 'realdriveby' resource" },
  53: { type: "Drowned" },
  54: { type: "Fall" },
  55: { type: "Unknown", info: "No known information about this damage type" },
  56: { type: "Melee", info: "Seems to be never called (?); for an actual melee damage, the fist weapon ID (0) is used" },
  57: { type: "Weapon", info: "Seems to be never called (?)" },
  59: { type: "Tank Grenade" },
  63: { type: "Blown", info: "Actual damage type when dying in a vehicle explosion" }
};


let luaTable = `local damageTypes = {\n`;
Object.entries(damageTypesById).forEach(([id, { type, info }], index) => {
    luaTable += `\t[${id}] = "${type}"`;
    if (info) {
        luaTable += `, -- ${info}`;
    }
    luaTable += `\n`;
});
luaTable += `}`;

---
<StarlightPage frontmatter={{
    template: 'doc',
    title: 'Damage Types',
    tableOfContents: false,
}}>
    <p>The following damage types are used by events like <a href="/reference/onPlayerDamage">onPlayerDamage</a> or <a href="/reference/onPlayerWasted">onPlayerWasted</a> for the weapon argument to describe the reason, why a ped has been damaged or died.</p>
    
    <p>When a player was shot by a weapon, the respective weapon ID is the damage type ID. The weapon IDs can be found <a href="/reference/ID_Lists/Weapons">here</a>.</p>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Damage Type</th>
                <th>Additional Info</th>
            </tr>
        </thead>
        <tbody>
            {Object.entries(damageTypesById).map(([id, { type, info }]) => (
                <tr>
                    <td>{id}</td>
                    <td>{type}</td>
                    <td>{info || ''}</td>
                </tr>
            ))}
        </tbody>
    </table>
    
    <section data-pagefind-ignore>
        <h4>Damage types in a Lua table: :</h4>
        <Code lang="lua" code={luaTable}/>
    </section>

    <SeeAlsoSection seeAlsoLinks={getSeeAlsoLinksFromList([
        'reference:ID_Lists',
    ])} currentId='' />
</StarlightPage>

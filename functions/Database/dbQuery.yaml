# Scraped from: https://wiki.multitheftauto.com/wiki/DbQuery
shared:
  name: dbQuery
  description: This function starts a database query using the supplied connection.
    Use the returned query handle with [dbPoll](/wiki/DbPoll "DbPoll") to get the
    result, or [dbFree](/wiki/DbFree "DbFree") if you don't want the result.
  parameters:
  - name: callbackFunction
    type: function
    description: An optional function to be called when a result is ready. The function
      will only be called if the result has not already been read with dbPoll . The
      function is called with the query handle as the first argument.
  - name: table callbackArguments, ]
    type: '['
    description: MISSING_PARAM_DESC
  - name: databaseConnection
    type: element
    description: A database connection element previously returned from dbConnect
  - name: query
    type: string
    description: An SQL query. Positions where parameter values will be inserted are
      marked with a ?
  - name: param1 [, var param2 ...]
    type: var
    description: MISSING_PARAM_DESC
  examples:
  - path: examples/dbQuery-1.lua
    description: 'This example starts an INSERT query and frees the result:'
    side: server
  - path: examples/dbQuery-2.lua
    description: 'This example starts a select query and waits for the result: (server
      freeze included)'
    side: server
  - path: examples/dbQuery-3.lua
    description: 'This example starts a select query and processes the result in a
      callback function:'
    side: server
  - path: examples/dbQuery-4.lua
    description: 'This example starts a select query and processes the result in an
      inline callback function with custom arguments:'
    side: server
  - path: examples/dbQuery-5.lua
    description: 'This example shows how to use backticks and??for parts of the query
      that are not column values:'
    side: server
  returns:
    values:
    - type: handle
      name: value
    description: Returns a query handle unless the connection is incorrect, in which
      case it return false .
  oop:
    element: connection
    method: query
    static: false
  notes:
  - type: tip
    content: The server command debugdb 2 will output verbose information on each
      query to a logging file (usually logs/db.log )
  - type: important
    content: It is strongly recommended to use this function asynchronously, as presented
      in "This example starts a select query and processes the result in an inline
      callback function with custom arguments:"
  requires_review: true

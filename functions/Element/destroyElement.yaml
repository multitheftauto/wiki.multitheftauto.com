shared: &shared
  name: destroyElement
  pair: createElement
  description: This function destroys an [[element]] and all
    elements within it in the hierarchy (its children, the children of those children
    etc). [[player]] elements cannot be destroyed using this
    function. A player can only be removed from the hierarchy when they quit or are
    kicked. The [[root]] element also cannot be destroyed, however, passing the root as
    an argument will wipe all elements from the server, except for the players and
    clients, which will become direct descendants of the root node, and other elements
    that cannot be destroyed, such as resource root elements.
  parameters:
  - name: elementToDestroy
    type: element
    description: The element you wish to destroy.
  examples:
  - path: examples/destroyElement-1.lua
    description: This example would destroy every element in the map, with the exception of players and the root element itself.
  - path: examples/destroyElement-2.lua
    description: 'This example destroys all vehicles of the specified model.'
  - path: examples/destroyElement_OOP-1.lua
    description: 'This example destroys all vehicles of the specified model.'
    oop: true
  - path: examples/destroyElement-4.lua
    description: 'This example destroys all vehicles, regardless of ID, name, etc.'
  returns:
    values:
    - type: bool
      name: result
    description: Returns **true** if the element was destroyed successfully, **false** if
      either the element passed to it was invalid or it could not be destroyed for
      some other reason (for example, clientside destroyElement can't destroy serverside
      elements).
  oop:
    element: element
    method: destroy
  notes:
  - type: tip
    content: There is bug when you try to destroy webbrowser that returned from [[guiGetBrowser]]
      so instead of that destroy the gui-element one that returned from [[guiCreateBrowser]]
      otherwise the game will be crushed.
  - type: info
    content: |
      - As element ids are eventually recycled, always make sure you nil variables
        containing the element after calling this function
      - If a streamed-in element is destroyed then it is **NOT** streamed out, i.e.
      the [[onClientElementStreamOut]] client-side event is **NOT** triggered. Thus it is
      wrong to assume a clean stream-in and stream-out sequence on the client-side.
      Additionally to [[onClientElementStreamOut]] use a [[onClientElementDestroy]] event
      handler to detect the destruction of streamed-in elements.

server:
  <<: *shared
  examples:
  - path: examples/destroyElement-3.lua
    description: This example allows creation of claymores, which trigger
      and explode. When they explode, the colshape and object for the claymore are
      destroyed.